<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D-модель</title>
    
    <link rel="stylesheet" href="style.css">

    <script type="importmap">
        {
          "imports": {
            "three": "https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js",
            "MTLLoader": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/loaders/MTLLoader.js",
            "OBJLoader": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/loaders/OBJLoader.js",
            "OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/controls/OrbitControls.js",
            "jszip": "https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"
          }
        }
    </script>

</head>
<body>
    
    <header>
        <div id="banner">
            <img id="cube-icon" src="./page_image/3d_icon_3.png" alt="icon">models generation
        </div>
        <ul class="custom-nav custom-tabs">
            <li class="custom-item">
                <a href="#" id="text2ImageTab" onclick="showContent('content1', this)" class="custom-link">Text-2-Image</a>
            </li>
            <li class="custom-item">
                <a href="#" id="image23DTab" onclick="showContent('content2', this)" class="custom-link">Image-2-Model</a>
            </li>
        </ul>        
    </header>

    <div id="main-page" class="main-page">
        <h1 class="main-title">Generate a 3D environment model for any task</h1>
            <button class="btn big-generate-btn" onclick="redirectToText2Image()">Generate</button>
    </div>

    <div id="content1" style="display: none;">
        <div class="container-form">
            <div class="description-container">
                <div class="description">
                    <section class="text-info-1">
                        <p>Generate Image</p>
                    </section>
                    <input type="text" id="input-description"  placeholder="description">
                    <input type="text" id="without-description" placeholder="avoid">
                    <button class="btn" id="bt-generate-image" type="button">
                        Generate Image
                    </button>
                </div>  
                <div style="position: relative; width: 450px;">
                    <img class="image-preview" id="generated-image" src="./page_image/placeholder1.png" alt="Generated Photo">
                    <div class="button-group">
                        <label class="btn upload-btn">
                            Upload image
                            <input type="file" id="bt-upload-image" accept="image/*" style="display: none;">
                        </label>
                        <button class="btn download-btn" id="bt-download-image">Download</button>
                    </div>
                </div>              
            </div>
        </div>
    </div>
    
    <div id="content2" style="display: none;">
        <div class="container-form">
            <div class="flex-container">
                
                <div class="left-column">
                    <img class="image-preview" id="input-image" src="./page_image/placeholder1.png" alt="Generated Photo">
                    <button class="btn" id="idk-btn">Button???</button>
                </div>

                <div class="middle-column" id="gen-params">

                    <section class="text-info">
                        <p>Select generation options</p>
                    </section>

                    <div class="btn-group">
                        <button class="btn option active" id="gen-perspective-btn">
                            <span class="option-text">Perspective</span>
                        </button>
                        <button class="btn option" id="gen-object-btn">
                           <span class="option-text">Object</span>
                        </button>
                    </div> 

                    <div class="btn-group">
                        <button class="btn option active" id="gen-textured-btn">
                            <span class="option-text">Textured</span>
                        </button>
                        <button class="btn option" id="gen-non-textured-btn">
                            <span class="option-text">Non-Textured</span>
                        </button>
                    </div>

                    <div class="btn-group">
                        <button class="btn option active" id="gen-mesh-btn">
                            <span class="option-text">Mesh</span>
                        </button>
                        <button class="btn option" id="gen-pc-btn">
                            <span class="option-text">Point Cloud</span>
                        </button>
                    </div>

                    <button class="btn" id="generate-3d-model-btn" type="button">
                        Generate Model
                    </button>

                </div>
                <div class="right-column" >
                    <div id="generated-3d-model">
                        <canvas id="meshCanvas"></canvas>
                    </div>
                    <button class="btn" id="download-3d-model-btn">Download model</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="script/script.js"></script>
    <script>
        function showContent(contentId, element) {
            var contents = document.querySelectorAll('div[id^="content"]');
            contents.forEach(function(content) {
                content.style.display = 'none';
            });

            document.getElementById(contentId).style.display = 'block';

            var navLinks = document.querySelectorAll('.custom-link');
            navLinks.forEach(function(navLink) {
                navLink.classList.remove('active');
            });

            if (element) {
                element.classList.add('active');
            }

            var mainPage = document.getElementById('main-page');
            if (mainPage) {
                mainPage.style.display = 'none';
            }
        }

        function redirectToText2Image() {
            showContent('content1', document.getElementById('text2ImageTab'));
            var mainPage = document.getElementById('main-page');
            if (mainPage) {
                mainPage.style.display = 'none';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.btn.option').forEach(button => {
                button.addEventListener('click', function() {
                    let siblings = this.parentNode.querySelectorAll('.btn.option');
                    siblings.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
    

</body>
</html>
